<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SAYANTH RUN</title>
    <style>
        :root { --neon-red: #ff003c; --bg-black: #050505; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background-color: var(--bg-black); color: var(--neon-red); font-family: 'Courier New', monospace; overflow: hidden; touch-action: manipulation; }
        
        #game-wrapper { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: radial-gradient(circle, #2a0000 0%, #000 100%); }
        
        h1 { margin: 0; font-size: clamp(30px, 10vw, 65px); letter-spacing: 10px; text-shadow: 0 0 20px var(--neon-red); text-align: center; }

        canvas { background: rgba(0, 0, 0, 0.9); border: 5px solid var(--neon-red); box-shadow: 0 0 50px rgba(255, 0, 60, 0.4); max-width: 95%; height: auto; margin-top: 20px; }

        #start-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 100;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }

        .btn {
            padding: 15px 40px; border: 2px solid var(--neon-red); background: none; color: white; 
            font-size: 22px; cursor: pointer; margin-top: 20px; font-family: 'Courier New', monospace;
            box-shadow: 0 0 15px var(--neon-red); transition: 0.3s;
        }
        .btn:hover { background: var(--neon-red); color: black; }

        #special-msg { 
            position: absolute; top: 20%; width: 100%; text-align: center; 
            font-size: 30px; color: gold; font-weight: bold; z-index: 200; display: none;
            text-shadow: 2px 2px black;
        }

        #credits { position: absolute; top: 10px; left: 10px; color: white; font-size: 12px; z-index: 50; }
        #insta-link { position: absolute; top: 10px; right: 10px; z-index: 50; }
        #insta-link a { color: #ff003c; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<div id="credits">DEVELOPED BY SAYANTH</div>
<div id="insta-link"><a href="https://instagram.com/sayaan.th" target="_blank">IG: @sayaan.th</a></div>

<div id="special-msg"></div>

<div id="start-overlay">
    <h1 style="color: white; text-shadow: 0 0 10px red;">SAYANTH RUN</h1>
    <button class="btn" onclick="initGame()">START GAME</button>
</div>

<div id="game-wrapper">
    <h1 id="title">SAYANTH RUN</h1>
    <canvas id="gameCanvas"></canvas>
    <p style="color:white; margin-top:10px; font-size: 14px;">TAP OR SPACE TO JUMP</p>
</div>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const overlay = document.getElementById("start-overlay");
    const msgBox = document.getElementById("special-msg");
    canvas.width = 800;
    canvas.height = 350; // Made slightly taller to fit the bigger dino

    const JUMP_SFX = new Audio("https://files.catbox.moe/tbe98u.mp3");
    const LOSE_SFX = new Audio("https://files.catbox.moe/ep884g.mp3");
    
    const dinoImg = new Image();
    dinoImg.src = "https://media.discordapp.net/attachments/1449447237154246809/1451228508650209441/ogh.png?ex=6945695e&is=694417de&hm=ca5007b3548c71972cde1f66a70905810ab836f08983a994d9570f92bafa6108&=&format=webp&quality=lossless&width=541&height=721";

    let score = 0;
    let speed = 7;
    let active = false;
    let gameOver = false;
    let frame = 0;
    
    // --- DINO IS NOW MUCH BIGGER (w: 120, h: 140) ---
    const player = { x: 70, y: 200, w: 120, h: 140, dy: 0, jump: 18, grounded: false };
    const obstacles = [];
    const snow = [];

    function initGame() {
        JUMP_SFX.play().then(() => { JUMP_SFX.pause(); JUMP_SFX.currentTime = 0; });
        LOSE_SFX.play().then(() => { LOSE_SFX.pause(); LOSE_SFX.currentTime = 0; });
        overlay.style.display = "none";
        active = true;
        animate();
    }

    function handleJump() {
        if (!active) return;
        if (gameOver) { reset(); return; }
        if (player.grounded) {
            player.dy = -player.jump;
            player.grounded = false;
            JUMP_SFX.currentTime = 0;
            JUMP_SFX.play();
        }
    }

    window.addEventListener("keydown", (e) => { if (e.code === "Space") handleJump(); });
    window.addEventListener("touchstart", (e) => { handleJump(); e.preventDefault(); }, {passive: false});

    function reset() {
        score = 0; speed = 7; obstacles.length = 0; frame = 0;
        gameOver = false; player.y = 200; player.dy = 0;
        canvas.onclick = null;
        animate();
    }

    function showSpecialMsg(text) {
        msgBox.innerText = text;
        msgBox.style.display = "block";
        setTimeout(() => { msgBox.style.display = "none"; }, 3000);
    }

    function animate() {
        if (!active || gameOver) return;
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Snow
        if (frame % 5 === 0) snow.push({x: Math.random() * 800, y: -10, s: Math.random() * 2 + 1});
        ctx.fillStyle = "white";
        snow.forEach((p, i) => {
            p.y += 2.5;
            ctx.fillRect(p.x, p.y, p.s, p.s);
            if (p.y > canvas.height) snow.splice(i, 1);
        });

        // Physics
        player.dy += 0.8;
        player.y += player.dy;
        // Grounded logic adjusted for new big height
        if (player.y > canvas.height - player.h - 10) { 
            player.y = canvas.height - player.h - 10; 
            player.grounded = true; 
            player.dy = 0; 
        }
        ctx.drawImage(dinoImg, player.x, player.y, player.w, player.h);

        // Obstacles (Green Minecraft Blocks)
        if (frame % 95 === 0) obstacles.push({ x: 800, w: 35, h: 50 + Math.random() * 40 });
        
        obstacles.forEach((o, i) => {
            o.x -= speed;
            ctx.fillStyle = "#2e7d32"; 
            ctx.strokeStyle = "#1b5e20"; 
            ctx.lineWidth = 3;
            ctx.fillRect(o.x, canvas.height - o.h - 10, o.w, o.h);
            ctx.strokeRect(o.x, canvas.height - o.h - 10, o.w, o.h);

            // Collision Detection
            if (player.x < o.x + o.w - 15 && player.x + player.w > o.x + 15 && player.y + player.h > canvas.height - o.h - 10) {
                LOSE_SFX.play();
                gameOver = true;
                drawDeathScreen();
            }

            if (o.x < -40) {
                obstacles.splice(i, 1);
                score++;
                if (score === 100) showSpecialMsg("BIG UMMA BY SAYANTH! ðŸ˜˜");
                if (score === 1000) showSpecialMsg("SAYANTHIN PERUTH ISHTAYUI! â¤ï¸");
                if (score % 5 === 0) speed += 0.5;
            }
        });

        ctx.fillStyle = "white";
        ctx.font = "bold 18px Courier New";
        ctx.fillText(`SCORE: ${score.toString().padStart(4, '0')}`, 20, 35);

        frame++;
        requestAnimationFrame(animate);
    }

    function drawDeathScreen() {
        ctx.fillStyle = "black";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // BIG DINO ZOOM
        ctx.drawImage(dinoImg, (canvas.width/2) - 150, (canvas.height/2) - 160, 300, 320);

        ctx.fillStyle = "rgba(0,0,0,0.4)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Restart and Menu Boxes
        ctx.fillStyle = "#ff003c";
        ctx.fillRect(250, 150, 300, 50); 
        ctx.fillRect(250, 220, 300, 50); 

        ctx.fillStyle = "white";
        ctx.textAlign = "center";
        ctx.font = "bold 20px Courier New";
        ctx.fillText("RESTART SYSTEM", 400, 182);
        ctx.fillText("MAIN MENU", 400, 252);
        ctx.textAlign = "left";

        canvas.onclick = (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left) * (canvas.width / rect.width);
            const y = (e.clientY - rect.top) * (canvas.height / rect.height);
            if (x > 250 && x < 550 && y > 150 && y < 200) reset();
            if (x > 250 && x < 550 && y > 220 && y < 270) location.reload();
        };
    }
</script>
</body>
</html>
